import { GroceryItem } from "@/context/AppContext";

function daysFromNow(days: number): string {
  const date = new Date();
  date.setDate(date.getDate() + days);
  return date.toISOString();
}

export function getDemoGroceryItems(): GroceryItem[] {
  const now = Date.now();
  return [
    {
      id: `demo-${now}-1`,
      name: "Plain Flour",
      category: "Grains",
      quantity: 1,
      unit: "bag",
      unitAmount: 1,
      price: 0,
      expiresIn: 90,
      expirationDate: daysFromNow(90),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-2`,
      name: "Rapeseed Oil",
      category: "Condiments",
      quantity: 1,
      unit: "bottle",
      unitAmount: 1,
      price: 0,
      expiresIn: 120,
      expirationDate: daysFromNow(120),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-3`,
      name: "Carrots",
      category: "Produce",
      quantity: 2,
      unit: "piece",
      unitAmount: 1,
      price: 0,
      expiresIn: 5,
      expirationDate: daysFromNow(5),
      storageLocation: "fridge",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-4`,
      name: "Green Beans",
      category: "Produce",
      quantity: 1,
      unit: "bag",
      unitAmount: 300,
      price: 0,
      expiresIn: 4,
      expirationDate: daysFromNow(4),
      storageLocation: "fridge",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-5`,
      name: "Butter",
      category: "Dairy",
      quantity: 1,
      unit: "block",
      unitAmount: 1,
      price: 0,
      expiresIn: 14,
      expirationDate: daysFromNow(14),
      storageLocation: "fridge",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-6`,
      name: "Salt",
      category: "Condiments",
      quantity: 1,
      unit: "container",
      unitAmount: 1,
      price: 0,
      expiresIn: 365,
      expirationDate: daysFromNow(365),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-7`,
      name: "Pepper",
      category: "Condiments",
      quantity: 1,
      unit: "container",
      unitAmount: 1,
      price: 0,
      expiresIn: 365,
      expirationDate: daysFromNow(365),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-8`,
      name: "Beef",
      category: "Meat",
      quantity: 1,
      unit: "kg",
      unitAmount: 1,
      price: 0,
      expiresIn: 3,
      expirationDate: daysFromNow(3),
      storageLocation: "fridge",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-9`,
      name: "Red Wine",
      category: "Beverages",
      quantity: 1,
      unit: "bottle",
      unitAmount: 1,
      price: 0,
      expiresIn: 180,
      expirationDate: daysFromNow(180),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-10`,
      name: "Beef Stock",
      category: "Condiments",
      quantity: 1,
      unit: "carton",
      unitAmount: 400,
      price: 0,
      expiresIn: 30,
      expirationDate: daysFromNow(30),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-11`,
      name: "Onion",
      category: "Produce",
      quantity: 1,
      unit: "piece",
      unitAmount: 1,
      price: 0,
      expiresIn: 10,
      expirationDate: daysFromNow(10),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-12`,
      name: "Thyme",
      category: "Produce",
      quantity: 3,
      unit: "sprig",
      unitAmount: 1,
      price: 0,
      expiresIn: 5,
      expirationDate: daysFromNow(5),
      storageLocation: "fridge",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-13`,
      name: "Mustard",
      category: "Condiments",
      quantity: 1,
      unit: "jar",
      unitAmount: 1,
      price: 0,
      expiresIn: 60,
      expirationDate: daysFromNow(60),
      storageLocation: "fridge",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-14`,
      name: "Egg Yolks",
      category: "Dairy",
      quantity: 2,
      unit: "piece",
      unitAmount: 1,
      price: 0,
      expiresIn: 7,
      expirationDate: daysFromNow(7),
      storageLocation: "fridge",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-15`,
      name: "Puff Pastry",
      category: "Bakery",
      quantity: 1,
      unit: "pack",
      unitAmount: 400,
      price: 0,
      expiresIn: 3,
      expirationDate: daysFromNow(3),
      storageLocation: "freezer",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-16`,
      name: "Tomatoes",
      category: "Produce",
      quantity: 4,
      unit: "piece",
      unitAmount: 1,
      price: 0,
      expiresIn: 5,
      expirationDate: daysFromNow(5),
      storageLocation: "fridge",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-17`,
      name: "Olive Oil",
      category: "Condiments",
      quantity: 1,
      unit: "bottle",
      unitAmount: 1,
      price: 0,
      expiresIn: 180,
      expirationDate: daysFromNow(180),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-18`,
      name: "Red Pepper",
      category: "Produce",
      quantity: 1,
      unit: "piece",
      unitAmount: 1,
      price: 0,
      expiresIn: 7,
      expirationDate: daysFromNow(7),
      storageLocation: "fridge",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-19`,
      name: "Green Pepper",
      category: "Produce",
      quantity: 1,
      unit: "piece",
      unitAmount: 1,
      price: 0,
      expiresIn: 7,
      expirationDate: daysFromNow(7),
      storageLocation: "fridge",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-20`,
      name: "Garlic",
      category: "Produce",
      quantity: 1,
      unit: "bulb",
      unitAmount: 1,
      price: 0,
      expiresIn: 21,
      expirationDate: daysFromNow(21),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-21`,
      name: "Cumin",
      category: "Condiments",
      quantity: 1,
      unit: "jar",
      unitAmount: 1,
      price: 0,
      expiresIn: 180,
      expirationDate: daysFromNow(180),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-22`,
      name: "Paprika",
      category: "Condiments",
      quantity: 1,
      unit: "jar",
      unitAmount: 1,
      price: 0,
      expiresIn: 180,
      expirationDate: daysFromNow(180),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-23`,
      name: "Chili Powder",
      category: "Condiments",
      quantity: 1,
      unit: "jar",
      unitAmount: 1,
      price: 0,
      expiresIn: 180,
      expirationDate: daysFromNow(180),
      storageLocation: "pantry",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
    {
      id: `demo-${now}-24`,
      name: "Eggs",
      category: "Dairy",
      quantity: 12,
      unit: "piece",
      unitAmount: 1,
      price: 0,
      expiresIn: 14,
      expirationDate: daysFromNow(14),
      storageLocation: "fridge",
      addedAt: new Date().toISOString(),
      usedAmount: 0,
    },
  ];
}

export const DEMO_RECIPES = [
  {
    recipe: {
      id: "52874",
      name: "Beef and Mustard Pie",
      thumbnail: "https://www.themealdb.com/images/media/meals/sytuqu1511553755.jpg",
      category: "Beef",
      instructions: "Preheat the oven to 150C/300F/Gas 2.\r\nToss the beef and flour together in a bowl with some salt and black pepper.\r\nHeat a large casserole until hot, add half of the rapeseed oil and enough of the beef to just cover the bottom of the casserole.\r\nFry until browned on each side, then remove and set aside. Repeat with the remaining oil and beef.\r\nReturn the beef to the pan, add the wine and cook until the volume of liquid has reduced by half, then add the stock, onion, carrots, thyme and mustard, and season well with salt and pepper.\r\nCover with a lid and place in the oven for two hours.\r\nRemove from the oven, check the seasoning and set aside to cool. Remove the thyme.\r\nWhen the beef is cool and you're ready to assemble the pie, preheat the oven to 200C/400F/Gas 6.\r\nTransfer the beef to a pie dish, brush the rim with the beaten egg yolks and lay the pastry over the top. Brush the top of the pastry with more beaten egg.\r\nTrim the pastry so there is just enough excess to crimp the edges, then place in the oven and bake for 30 minutes, or until the pastry is golden-brown and cooked through.\r\nFor the green beans, bring a saucepan of salted water to the boil, add the beans and cook for 4-5 minutes, or until just tender.\r\nDrain and toss with the butter, then season with black pepper.\r\nTo serve, place a large spoonful of pie onto each plate with some green beans alongside.",
      matchScore: 100,
      matchedIngredients: ["Beef", "Plain Flour", "Rapeseed Oil", "Red Wine", "Beef Stock", "Onion", "Carrots", "Thyme", "Mustard", "Egg Yolks", "Puff Pastry", "Green Beans", "Butter", "Salt", "Pepper"],
      missingIngredients: [],
      ingredients: ["Beef", "Plain Flour", "Rapeseed Oil", "Red Wine", "Beef Stock", "Onion", "Carrots", "Thyme", "Mustard", "Egg Yolks", "Puff Pastry", "Green Beans", "Butter", "Salt", "Pepper"],
      stats: { total: 15, matched: 15, missing: 0 },
    },
    enhancedSteps: [
      {
        stepNumber: 1,
        instruction: "Preheat the oven to 150C/300F/Gas 2.",
        temperature: "150C/300F/Gas 2",
      },
      {
        stepNumber: 2,
        instruction: "Toss the beef and flour together in a bowl with some salt and black pepper until the beef is evenly coated.",
        duration: 3,
      },
      {
        stepNumber: 3,
        instruction: "Heat a large casserole until hot. Add half of the rapeseed oil and enough of the beef to just cover the bottom. Fry until browned on each side, then remove and set aside. Repeat with the remaining oil and beef.",
        duration: 10,
      },
      {
        stepNumber: 4,
        instruction: "Return all the beef to the pan. Add the red wine and cook until the volume of liquid has reduced by half.",
        duration: 5,
      },
      {
        stepNumber: 5,
        instruction: "Add the beef stock, sliced onion, chopped carrots, thyme sprigs, and mustard. Season well with salt and pepper. Stir to combine.",
        duration: 3,
      },
      {
        stepNumber: 6,
        instruction: "Cover with a lid and place in the oven. Cook for two hours until the beef is tender and the sauce has thickened.",
        duration: 120,
        temperature: "150C/300F/Gas 2",
      },
      {
        stepNumber: 7,
        instruction: "Remove from the oven, check the seasoning, and set aside to cool. Remove and discard the thyme sprigs.",
        duration: 30,
      },
      {
        stepNumber: 8,
        instruction: "When the beef is cool and you're ready to assemble the pie, preheat the oven to 200C/400F/Gas 6.",
        temperature: "200C/400F/Gas 6",
      },
      {
        stepNumber: 9,
        instruction: "Transfer the beef filling to a pie dish. Brush the rim of the dish with beaten egg yolks. Lay the puff pastry over the top and brush with more beaten egg. Trim the excess pastry and crimp the edges.",
        duration: 5,
      },
      {
        stepNumber: 10,
        instruction: "Place the pie in the oven and bake for 30 minutes, or until the pastry is golden-brown and cooked through.",
        duration: 30,
        temperature: "200C/400F/Gas 6",
      },
      {
        stepNumber: 11,
        instruction: "While the pie bakes, bring a saucepan of salted water to the boil. Add the green beans and cook for 4-5 minutes, or until just tender.",
        duration: 5,
      },
      {
        stepNumber: 12,
        instruction: "Drain the beans and toss with the butter. Season with black pepper. Serve a large spoonful of pie onto each plate with the buttered green beans alongside.",
        duration: 2,
      },
    ],
  },
  {
    recipe: {
      id: "53107",
      name: "Avocado dip with new potatoes",
      thumbnail: "https://www.themealdb.com/images/media/meals/flrajf1762341295.jpg",
      category: "Vegetarian",
      instructions: "Whizz half the avocado flesh with the yogurt, lime and lemon juice and seasoning. Dice the remaining avocado, then gently stir into the whizzed mix with most of the lime zest. Cover, then chill until ready to serve.\r\n\r\nBoil potatoes for 6 mins, then drain well and toss with olive oil, chilli powder and cumin seeds. Now set aside until half an hour before your guests arrive.\r\n\r\nHeat oven to 200C/180C fan/gas 6, then roast potatoes for about 30 mins, shaking the tray halfway, until golden and tender. Transfer the dip to one or two bowls, scatter with the remaining lime zest and serve with the hot potatoes, and tortilla chips for dipping.",
      matchScore: 47,
      matchedIngredients: ["Salt", "Pepper"],
      missingIngredients: ["Avocado", "Natural Yoghurt", "Lime", "Lemon", "Baby New Potatoes", "Olive Oil", "Hot Chilli Powder", "Cumin Seeds", "Tortillas"],
      ingredients: ["Avocado", "Natural Yoghurt", "Lime", "Lemon", "Baby New Potatoes", "Olive Oil", "Hot Chilli Powder", "Cumin Seeds", "Tortillas"],
      stats: { total: 9, matched: 2, missing: 7 },
    },
    enhancedSteps: [
      {
        stepNumber: 1,
        instruction: "Halve the avocados, remove the stones and scoop out the flesh. Set half the flesh aside for later.",
        duration: 3,
      },
      {
        stepNumber: 2,
        instruction: "Place half the avocado flesh into a food processor or blender. Add the yogurt, lime juice, lemon juice, and season with salt and pepper. Blend until smooth.",
        duration: 2,
      },
      {
        stepNumber: 3,
        instruction: "Dice the remaining avocado flesh into small cubes. Gently stir the diced avocado and most of the lime zest into the blended mixture. Cover and chill in the fridge until ready to serve.",
        duration: 5,
      },
      {
        stepNumber: 4,
        instruction: "Place the baby new potatoes in a large saucepan of boiling salted water. Boil for 6 minutes until slightly softened but still firm.",
        duration: 6,
      },
      {
        stepNumber: 5,
        instruction: "Drain the potatoes well and transfer to a large roasting tray. Toss with olive oil, chilli powder, and cumin seeds until evenly coated. Set aside until 30 minutes before serving.",
        duration: 3,
      },
      {
        stepNumber: 6,
        instruction: "Preheat the oven to 200C/180C fan/Gas 6.",
        temperature: "200C/180C fan/Gas 6",
      },
      {
        stepNumber: 7,
        instruction: "Roast the potatoes for about 30 minutes, shaking the tray halfway through, until golden and tender.",
        duration: 30,
        temperature: "200C/180C fan/Gas 6",
      },
      {
        stepNumber: 8,
        instruction: "Transfer the avocado dip to serving bowls. Scatter with the remaining lime zest. Serve alongside the hot roasted potatoes and tortilla chips for dipping.",
        duration: 2,
      },
    ],
  },
  {
    recipe: {
      id: "52969",
      name: "Chakchouka",
      thumbnail: "https://www.themealdb.com/images/media/meals/gpz67p1560458984.jpg",
      category: "Miscellaneous",
      instructions: "In a large cast iron skillet or saut\u00e9 pan with a lid, heat oil over medium high heat. Add the onion and saut\u00e9 for 2-3 minutes, until softened. Add the peppers and garlic, and saut\u00e9 for an additional 3-5 minutes. Add the tomatoes, cumin, paprika, salt, and chili powder. Mix well and bring the mixture to a simmer. Reduce the heat to medium low and continue to simmer, uncovered, 10-15 minutes until the mixture has thickened to your desired consistency. (Taste the sauce at this point and adjust for salt and spice, as desired.) Using the back of a spoon, make four craters in the mixture, large enough to hold an egg. Crack one egg into each of the craters. Cover the skillet and simmer for 5-7 minutes, until the eggs have set. Serve immediately with crusty bread or pita.",
      matchScore: 91,
      matchedIngredients: ["Tomatoes", "Olive Oil", "Red Pepper", "Green Pepper", "Garlic", "Cumin", "Paprika", "Salt", "Chili Powder", "Eggs"],
      missingIngredients: ["Onion"],
      ingredients: ["Tomatoes", "Olive Oil", "Onion", "Red Pepper", "Green Pepper", "Garlic", "Cumin", "Paprika", "Salt", "Chili Powder", "Eggs"],
      stats: { total: 11, matched: 10, missing: 1 },
    },
    enhancedSteps: [
      {
        stepNumber: 1,
        instruction: "Heat olive oil in a large cast iron skillet or saut\u00e9 pan over medium-high heat until the oil shimmers.",
        duration: 2,
      },
      {
        stepNumber: 2,
        instruction: "Add the diced onion and saut\u00e9 for 2-3 minutes, stirring occasionally, until softened and translucent.",
        duration: 3,
      },
      {
        stepNumber: 3,
        instruction: "Add the sliced red and green peppers and crushed garlic. Saut\u00e9 for an additional 3-5 minutes until the peppers begin to soften.",
        duration: 5,
      },
      {
        stepNumber: 4,
        instruction: "Add the tomatoes, cumin, paprika, salt, and chili powder. Mix well and bring the mixture to a simmer.",
        duration: 2,
      },
      {
        stepNumber: 5,
        instruction: "Reduce the heat to medium-low and continue to simmer uncovered for 10-15 minutes, stirring occasionally, until the mixture has thickened to your desired consistency. Taste and adjust seasoning as needed.",
        duration: 15,
      },
      {
        stepNumber: 6,
        instruction: "Using the back of a spoon, make four craters in the sauce, each large enough to hold an egg. Crack one egg into each crater.",
      },
      {
        stepNumber: 7,
        instruction: "Cover the skillet with a lid and simmer for 5-7 minutes until the egg whites are set but the yolks are still slightly runny.",
        duration: 7,
      },
      {
        stepNumber: 8,
        instruction: "Remove from heat and serve immediately, straight from the skillet, with crusty bread or pita for dipping.",
      },
    ],
  },
];
